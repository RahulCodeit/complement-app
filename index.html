<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>Compliment Cards 2.0 - AI-Powered Card Creator</title>
    <meta name="description" content="Create beautiful, AI-powered compliment cards instantly. No login required. Works perfectly on mobile and desktop.">
    
    <!-- Mobile & PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Compliment Cards">
    <meta name="application-name" content="Compliment Cards">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#8b5cf6">
    
    <!-- iOS Splash Screens and Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icon.svg">
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <!-- Fallback for browsers that don't support SVG favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3Njape.org5vuPBoAAAMUSURBVFiFtZfPbxRVHMc/M7O7s7Oz29ndLi1tKaUUqEgRg4kx8WI8ePBg4sGL8R/w4MmDJ/8AL8aDiQcTEw9eiBpNjCYSE0mMGgmIQqW0tLSl3V1mZ3dmd2Z35vPQ3aXb7g8oPODlzZv3vt/P+37fe+/NiIgwn0wmw8jICIlEgkgkQjgcJhgMEggE8Pv9+Hw+vF4vbrcbp9OJw+FAKApCCIQQAFiWhWmaGIZBpVLBMAx0XadYLJLP58nlcmSzWTKZDOl0mlQqRSqVYnZ2ltnZWRYWFiiVSvT09HDixAnOnj3L8ePHGRwcRFEUBMDExATnz59namoKAIfDgdPpRFVVXC4XLpcLVVVxOp04HA4URUEIgaIoCCFQFAVFUbAsC8uyME0T0zSpVCoYhoGu65TLZQzDwDRNLMsCoKuri1OnTnHu3DmOHj2KGB8f5+LFi0xPT6OqKj6fD6/Xi8fjwePx4PV68fl8qKqKEKKlB9ZTNWqapmlUKhWKxSKFQoFCoUCxWKRSqWCaJr29vZw5c4YLFy4ghoeHuXz5MrFYDI/HQyAQIBAI4Pf78Xg8OBwOAGzbxrZtbNvGtm0sy6r9tixL1VQul6lUKhiGQalUolQqUSqVKJfLmKbJ4OAgFy5cQAwNDXHlyhXi8TherxdN09A0Db/fj6qqtTesb6h1wzV1bW4zrR+vTqtmqxosFArk83ny+TyFQgHTNDl8+DCXLl1CHDhwgKtXr5JMJvF6vYTDYcLhMMFgELfbXXOu3khzQ40mrNfqOtWghmFQLBbJ5XLkcjmKxSKWZTE0NMTly5cR+/fv59q1a6TTaTweDx0dHXR0dBAKhXC73U0NNTPSaLxaS5ZlUS6XyWazZLNZisUilmVx6NAhrl69iujr6+P69evMz8/jdrvp7Oyks7OTUChUm+tGjjebtkZSNaxpGrlcjmw2S6lUwrIsDh48yPXr1xE9PT3cuHGDxcVFXC4X0WiUaDRKOBzG5XK1dLhdo9UAuq6TSqVIpVLous7+/fu5efPmP5ZwMD9pFJvNAAAAAElFTkSuQmCC">
    
    <!-- Preconnect to CDNs for better performance -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js for reactivity -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Fabric.js for advanced canvas manipulation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- GIF.js for GIF generation -->
    <script src="https://unpkg.com/gif.js@0.2.0/dist/gif.js"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;700;900&family=Caveat:wght@400;700&family=Bebas+Neue&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8b5cf6',
                        secondary: '#ec4899',
                        accent: '#f59e0b',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'display': ['Playfair Display', 'serif'],
                        'hand': ['Caveat', 'cursive'],
                        'script': ['Dancing Script', 'cursive'],
                        'bold': ['Bebas Neue', 'cursive'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'gradient': 'gradient 15s ease infinite',
                    },
                    screens: {
                        'xs': '375px',
                        'sm': '640px',
                        'md': '768px',
                        'lg': '1024px',
                        'xl': '1280px',
                        '2xl': '1536px',
                    }
                }
            }
        }
    </script>
    
    <!-- Inline Critical CSS for faster initial render -->
    <style>
        /* Critical CSS for above-the-fold content */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        #app {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        #app.loaded {
            opacity: 1;
        }
        
        /* Loading spinner */
        .app-loader {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .app-loader-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Prevent FOUC */
        .no-js { display: none; }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 min-h-screen">
    <!-- Loading Indicator -->
    <div class="app-loader" id="loader">
        <div class="app-loader-spinner"></div>
        <p class="text-white mt-4 text-sm">Loading...</p>
    </div>
    
    <!-- Main App Container -->
    <div id="app" class="no-js"></div>
    
    <!-- Core Modules -->
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/ai-engine.js"></script>
    <script type="module" src="js/canvas-engine.js"></script>
    <script type="module" src="js/templates.js"></script>
    <script type="module" src="js/effects.js"></script>
    
    <!-- Service Worker Registration for PWA -->
    <script>
        // Show app when loaded
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
                document.getElementById('app').classList.remove('no-js');
                document.getElementById('app').classList.add('loaded');
            }, 500);
        });
        
        // Register Service Worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered');
                        
                        // Check for updates periodically
                        setInterval(() => {
                            registration.update();
                        }, 60000); // Check every minute
                        
                        // Handle updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available, show update notification
                                    console.log('New version available! Refresh to update.');
                                }
                            });
                        });
                    })
                    .catch(err => console.log('ServiceWorker registration failed:', err));
            });
        }
        
        // Detect if app is installed as PWA
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            window.deferredPrompt = e;
        });
        
        // Handle app install
        window.addEventListener('appinstalled', () => {
            console.log('App installed as PWA');
        });
    </script>
</body>
</html> 